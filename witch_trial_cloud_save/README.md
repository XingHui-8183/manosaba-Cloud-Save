# 魔女审判云存档工具

这是一个为魔法少女魔女审判游戏设计的云存档工具，支持将存档备份到GitHub仓库并实时同步。

## 功能特点

- 📁 **自动监控**：实时检测存档文件夹变化，自动备份
- ☁️ **GitHub同步**：将存档备份到GitHub仓库，支持多设备同步
- 📋 **备份管理**：查看和恢复历史备份
- ⚙️ **灵活设置**：可配置启动时自动操作（拉取/推送/无操作）
- 📢 **系统通知**：备份或恢复完成后发送桌面通知

## 安装和使用

### 依赖项

- Python 3.7+
- 所需Python库：
  - watchdog
  - plyer
  - requests
  - pyinstaller（用于打包）

### 安装步骤

1. 克隆或下载本项目
2. 安装依赖项：
   ```
   pip install -r requirements.txt
   ```
3. 运行主程序：
   ```
   python main.py
   ```

### 配置说明

首次运行时，需要在设置页面配置GitHub信息：

- **GitHub 用户名/组织名**：您的GitHub用户名或组织名称
- **GitHub 仓库名**：用于存储备份的仓库名称
- **GitHub Token**：具有仓库读写权限的个人访问令牌
- **启动时自动操作**：选择启动工具时的自动行为
  - 什么都不做
  - 从云拉取最新存档
  - 上传当前存档

## 工作原理

1. **存档位置**：游戏存档位于 `C:\Users\用户名\AppData\LocalLow\Re,AER\manosaba\Saves_v1`
2. **备份机制**：
   - 监控存档文件夹变化
   - 创建日期时间命名的文件夹
   - 将存档压缩为ZIP文件
   - 上传到GitHub仓库
3. **恢复机制**：
   - 从GitHub下载指定备份
   - 删除当前存档目录
   - 解压备份到存档目录

## 打包为可执行文件

使用pyinstaller打包：

```
pyinstaller --onefile --windowed main.py
```

打包后的可执行文件将位于 `dist` 目录中。

## 注意事项

1. 确保GitHub仓库已创建，且Token具有读写权限
2. 定期清理旧备份，避免仓库过大
3. 备份过程中请勿关闭游戏或工具
4. 恢复存档前建议手动备份当前存档

## 许可证

本项目采用MIT许可证，详见LICENSE文件。